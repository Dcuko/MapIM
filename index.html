<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <title>MapIM</title>
</head>

<body>

    <div class="box">
        <img class="logo" src="img/ufrrj-logo.png" alt="">
        <form id="form" action="mapa.html">
            <input class="search" id="search" type="text" name="search" placeholder="Sala de aula, professor...">
            <input id="submit-button" class="submit" type="submit">
            <img class="lupa" src="img/lupa.png" alt="">
        </form>
        <a href="mapa.html">
            <button class="navegar" type="button">Navegar pelo Mapa</button>
        </a>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script>
    const form = document.getElementById('form')

    const completes = [
    {
            "id": "SALA DE PROFESSOR HISTÓRIA (3 ANDAR)",
            "andar": 3
        },
        {
            "id": "SALA DE PROFESSOR ECONOMIA (3 ANDAR)",
            "andar": 3
        },
        {
            "id": "DEPARTAMENTO LETRAS",
            "andar": 3
        },
        {
            "id": "COORDENAÇÃO LETRAS",
            "andar": 3
        },
        {
            "id": "310 MULTI",
            "andar": 3
        },
        {
            "id": "309 MULTI",
            "andar": 3
        },
        {
            "id": "308 MULTI (SALA DE PROFESSOR ADMINISTRAÇÃ0)",
            "andar": 3
        },
        {
            "id": "308 INFO (SALA DE PROFESSOR MATEMÁTICA)",
            "andar": 3
        },
        {
            "id": "307 MULTI (SALA DE PROFESSOR ADMINISTRAÇÃ0)",
            "andar": 3
        },
        {
            "id": "306 MULTI (SALA DE PROFESSOR ADMINISTRAÇÃ0)",
            "andar": 3
        },
        {
            "id": "305 MULTI (SALA DE PROFESSOR ADMINISTRAÇÃ0)",
            "andar": 3
        },
        {
            "id": "304 MULTI",
            "andar": 3
        },
        {
            "id": "303 MULTI",
            "andar": 3
        },
        {
            "id": "302 MULTI",
            "andar": 3
        },
        {
            "id": "301 MULTI",
            "andar": 3
        },
        {
            "id": "BANHEIRO MASCULINO 3 ANDAR MULTI",
            "andar": 3
        },
        {
            "id": "BANHEIRO FEMININO 3 ANDAR MULTI",
            "andar": 3
        },
        {
            "id": "308 BIBLI (SALA DE PROFESSOR PEDAGOGIA)",
            "andar": 3
        },
        {
            "id": "307 BIBLI (SALA DE PROFESSOR PEDAGOGIA)",
            "andar": 3
        },
        {
            "id": "306 BIBLI (SALA DE PROFESSOR PEDAGOGIA)",
            "andar": 3
        },
        {
            "id": "305 BIBLI (SALA DE PROFESSOR PEDAGOGIA)",
            "andar": 3
        },
        {
            "id": "304 BIBLI",
            "andar": 3
        },
        {
            "id": "303 BIBLI",
            "andar": 3
        },
        {
            "id": "302 BIBLI",
            "andar": 3
        },
        {
            "id": "301 BIBLI",
            "andar": 3
        },
        {
            "id": "BANHEIRO MASCULINO 3 ANDAR BIBLI",
            "andar": 3
        },
        {
            "id": "BANHEIRO FEMININO 3 ANDAR BIBLI",
            "andar": 3
        },
        {
            "id": "PROAD",
            "andar": 3
        },
        {
            "id": "GABINETE DIRETOR E VICE-DIRETOR A",
            "andar": 3
        },
        {
            "id": "GABINETE DIRETOR E VICE-DIRETOR B",
            "andar": 3
        },
        {
            "id": "DIREÇÃO DO IM ARQUIVO E PROTOCOLO",
            "andar": 3
        },
        {
            "id": "SPEAS",
            "andar": 3
        },
        {
            "id": "SAC",
            "andar": 3
        },
        {
            "id": "PROAES",
            "andar": 3
        },
        {
            "id": "308 ADM (SALA DE PROFESSOR TURISMO)",
            "andar": 3
        },
        {
            "id": "307 ADM (SALA DE PROFESSOR TURISMO)",
            "andar": 3
        },
        {
            "id": "306 ADM (SALA DE PROFESSOR TURISMO)",
            "andar": 3
        },
        {
            "id": "305 ADM",
            "andar": 3
        },
        {
            "id": "304 ADM",
            "andar": 3
        },
        {
            "id": "303 ADM",
            "andar": 3
        },
        {
            "id": "302 ADM",
            "andar": 3
        },
        {
            "id": "301 ADM",
            "andar": 3
        },
        {
            "id": "BANHEIRO MASCULINO 3 ANDAR BIBLI",
            "andar": 3
        },
        {
            "id": "BANHEIRO FEMININO 3 ANDAR BIBLI",
            "andar": 3
        },
        {
            "id": "INFORMÁTICA",
            "andar": 3
        },
        {
            "id": "COORDENADORIA DE LOGISTICA PROJETOS/TRANSPORTES",
            "andar": 3
        },
        {
            "id": "PROJETOS/TRANSPORTES",
            "andar": 3
        },
        {
            "id": "COORDENADORA DE LOGISTICA DE MATERIAIS",
            "andar": 3
        },
        {
            "id": "MATERIAIS",
            "andar": 3
        },
        {
            "id": "310 INFO",
            "andar": 3
        },
        {
            "id": "309 INFO (LABORATÓRIO DE INFORMÁTICA CIÊNCIA DA COMPUTAÇÃO)",
            "andar": 3
        },
        {
            "id": "308 INFO",
            "andar": 3
        },
        {
            "id": "307 INFO (SALA DE PROFESSOR MATEMÁTICA)",
            "andar": 3
        },
        {
            "id": "306 INFO",
            "andar": 3
        },
        {
            "id": "305 INFO",
            "andar": 3
        },
        {
            "id": "304 INFO",
            "andar": 3
        },
        {
            "id": "303 INFO",
            "andar": 3
        },
        {
            "id": "302 INFO",
            "andar": 3
        },
        {
            "id": "301 INFO",
            "andar": 3
        },
        {
            "id": "BANHEIRO MASCULINO 3 ANDAR INFO",
            "andar": 3
        },
        {
            "id": "BIBLIOTECA ESTANTERIA LIVROS A",
            "andar": 3
        },
        {
            "id": "BIBLIOTECA ESTANTERIA LIVROS B",
            "andar": 3
        },
        {
            "id": "BANHEIRO FEMININO 3 ANDAR INFO",
            "andar": 3
        },
        {
            "id": "104 INFO",
            "andar": 1
        }
    ]
    form.addEventListener('submit', (event) => {
        event.preventDefault()

        const { value } = document.getElementById('search')
        const [sala] = completes.filter(sala => sala.id === value)

        if (!sala) {
            alert('Sala não existe, tente outra')
            return
        }

        window.location.href = `mapa.html?sala=${sala.id}&andar=${sala.andar}`;
    })

    $("#search").autocomplete({
        source: completes.map(sala => sala.id)
    })
</script>

</html>